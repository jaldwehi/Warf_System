{% extends "base.html" %}
{% block title %}Solutions | WARF{% endblock %}
{% block hero_title %}Solutions{% endblock %}
{% block hero_subtitle %}Submitted task solutions and files{% endblock %}

{% block content %}
<div class="container" style="max-width:1050px;">
  <div class="card p-4">

    <h5 class="mb-3">Direct Task Solutions</h5>
    <div class="table-responsive">
      <table class="table align-middle">
        <thead>
          <tr>
            <th>Task</th>
            <th>Meeting</th>
            <th>Submitted By</th>
            <th>Date</th>
            <th>File</th>
          </tr>
        </thead>
        <tbody>
          {% for t in tasks_with_solution %}
          <tr>
            <td>{{ t.title }}</td>
            <td>{{ t.meeting.title }}</td>
            <td>{{ t.submitted_by|default:"-" }}</td>
            <td>{{ t.submitted_at|default:"-" }}</td>
            <td>
              {% if t.solution_file %}
                <a href="{{ t.solution_file.url }}" target="_blank">Download</a>
              {% else %}-{% endif %}
            </td>
          </tr>
          {% empty %}
          <tr><td colspan="5" class="text-muted">No direct task solutions yet.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <hr class="my-4">

    <h5 class="mb-3">Submissions</h5>
    <div class="table-responsive">
      <table class="table align-middle">
        <thead>
          <tr>
            <th>Task</th>
            <th>Meeting</th>
            <th>Submitted By</th>
            <th>Date</th>
            <th>File</th>
          </tr>
        </thead>
        <tbody>
          {% for s in submissions %}
          <tr>
            <td>{{ s.task.title }}</td>
            <td>{{ s.task.meeting.title }}</td>
            <td>{{ s.submitted_by }}</td>
            <td>{{ s.submitted_at }}</td>
            <td>
              {% if s.file %}
                <a href="{{ s.file.url }}" target="_blank">Download</a>
              {% else %}-{% endif %}
            </td>
          </tr>
          {% empty %}
          <tr><td colspan="5" class="text-muted">No submissions yet.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>
</div>
{% endblock %}
